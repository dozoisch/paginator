/* MIT Hugo Dozois-Caouette 2013 */
!function(t,e){"use strict"
function s(){return"none"!==t(this).css("display")}var i="paginate",a={elemsPerPage:5,maxButtons:5,disabledClass:i+"Disabled",activeClass:i+"Active",containerClass:i+"Container",listClass:i+"List",showAllListClass:i+"ShowAllList",previousClass:i+"Previous",nextClass:i+"Next",previousSetClass:i+"PreviousSet",nextSetClass:i+"NextSet",showAllClass:i+"ShowAll",pageClass:i+"Page",anchorClass:i+"Anchor",previousText:"&laquo;",nextText:"&raquo;",previousSetText:"&hellip;",nextSetText:"&hellip;",showAllText:"&dArr;"},n={init:function(e){var s=t(this)
if(!s.data(i)){var a=new r(this,e)
s.data(i,a)}},update:function(e){t(this).data(i).showPage(e||1)},changeSettings:function(e){t(this).data(i).updateConfig(e||{}).showPage(1)},destroy:function(){var e=t(this)
e.data(i).showAll().destroy(),e.removeData(i)}}
t.fn.paginate=function(e){return this.each(function(){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?(t.error("Incorrect usage of jQuery.Paginate"),void 0):n.init.apply(this,[e])})}
var r=function(e,s){var i=t(e),n=t.extend({},a,i.data()||{},s||{}),r=null
this.getConfig=function(){return n},this.getContainer=function(){return r},this.getTable=function(){return i},this.getSelector=function(e){if(t.isArray(e)){var s=""
for(var i in e)s+=this.getSelector(e[i])
return s}return"."+n[e+"Class"]},this.updateConfig=function(e){return t.extend(n,e),this},this.destroy=function(){return r.remove(),i},r=new o(this),i.before(r),this.showPage(1)}
r.prototype.previousPage=function(){var t=parseInt(this.getContainer().find(this.getSelector(["page","active"])).children("a").text())-1
return isNaN(t)&&(t=1),this.showPage(t),this},r.prototype.nextPage=function(){var t=parseInt(this.getContainer().find(this.getSelector(["page","active"])).children("a").text())+1
return isNaN(t)&&(t=1),this.showPage(t),this},r.prototype.previousSet=function(){var t=parseInt(this.getContainer().find(this.getSelector("page")).filter(s).first().children("a").text())-1
return this.showSet(t),this},r.prototype.nextSet=function(){var t=parseInt(this.getContainer().find(this.getSelector("page")).filter(s).last().children("a").text())+1
return this.showSet(t),this},r.prototype.showAll=function(){var t=this.getConfig(),e=this.getContainer()
return this.getTable().find("tbody tr").show(),e.find(this.getSelector("active")).removeClass(t.activeClass),e.find(this.getSelector("showAll")).addClass(t.activeClass),e.find(this.getSelector("previous")).addClass(t.disabledClass),e.find(this.getSelector("next")).addClass(t.disabledClass),this},r.prototype.showPage=function(t){var s=this.getConfig(),i=this.getContainer(),a=this.getTable().find("tbody tr"),n=e.ceil(a.length/s.elemsPerPage)
t>n?t=n:1>t&&(t=1),i.find(this.getSelector("disabled")).removeClass(s.disabledClass),1===t?i.find(this.getSelector("previous")).addClass(s.disabledClass):t===n&&i.find(this.getSelector("next")).addClass(s.disabledClass)
var r=t-1
i.find(this.getSelector("active")).removeClass(s.activeClass),i.find(this.getSelector("page")).eq(r).addClass(s.activeClass),a.hide()
var o=r*s.elemsPerPage,l=o+s.elemsPerPage
return a.filter(":eq("+o+"),:lt("+l+"):gt("+o+")").show(),this.showSet(t),this},r.prototype.showSet=function(t){var s=this.getConfig(),i=this.getContainer();--t
var a=e.ceil(this.getTable().find("tbody tr").length/s.elemsPerPage)-1,n=s.maxButtons-3,r=e.ceil(t-n/2),o=r+n
i.find(this.getSelector("previousSet")).show(),i.find(this.getSelector("nextSet")).show(),1>=r?(++n,r=0,o=r+n,i.find(this.getSelector("previousSet")).hide()):o>=a-1&&(++n,o=a,r=a>n?a-n:0,i.find(this.getSelector("nextSet")).hide())
var l=i.find(this.getSelector("page"))
return l.hide(),l.filter(":eq("+r+"),:eq("+o+")"+",:lt("+o+"):gt("+r+")").show(),this}
var o=function(s){var i=s.getConfig(),a=s.getContainer(),n=function(e,s){return"string"==typeof s&&(s={"class":s}),t("<"+e+">",s||{})},r=function(t,e){return n("li",{"class":i[t+"Class"],html:n("a",{"class":i.anchorClass,html:e||i[t+"Text"]})})},o=s.getTable().find("tbody tr").length,l=e.ceil(o/i.elemsPerPage),h=!1
l>i.maxButtons&&(h=!0),a=n("div",i.containerClass)
var c=Array(l+2*h+2),u=0
c[u++]=r("previous").click(function(t){t.preventDefault(),s.previousPage.apply(s)}),h&&(c[u++]=r("previousSet").click(function(t){t.preventDefault(),s.previousSet.apply(s)}))
for(var g=1;l>=g;g++)c[u++]=r("page",g).click(function(e){e.preventDefault(),s.showPage.apply(s,[parseInt(t(this).text())])})
h&&(c[u++]=r("nextSet").click(function(t){t.preventDefault(),s.nextSet.apply(s)})),c[u++]=r("next").click(function(t){t.preventDefault(),s.nextPage.apply(s)})
var d=n("ul",i.listClass)
return d.append(c),a.append([d,n("ul",i.showAllListClass).append(r("showAll").click(function(t){t.preventDefault(),s.showAll.apply(s)}))]),a}}(jQuery,Math)
